{% extends "layout.html" %}
{% block content %}
    <h1 style="color: green; background-color: white; width: fit-content; height: fit-content; border: 3px solid black; border-radius: 100px; padding: 10px;">PRODUCTOS</h1>
    <br>
        {% with messages = get_flashed_messages() %}
        {% if messages %}
        <div style="color: red; background-color: azure; width: fit-content; padding: 5px; border: 1px; border-radius: 5px;">
            {% for m in messages %}
            {{ m }}
            {% endfor %}
        </div>
        {% endif %}
        {% endwith %}
    <div>
        <div>
            <a href="{{url_for('appcsv.import_csv')}}">
                <button style="height: fit-content; padding: 5px; font-size: 18px; font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;">
                    <div style="display: flex; align-items: center; justify-content: flex-start; text-align: center;">
                        <img src="{{url_for('static', filename='import.png')}}" height="40px" width="30px" style="margin-right: 10px;">Importar Productos
                    </div>
                </button>
            </a>
            <a href="{{url_for('appcsv.download_csv')}}">
                <button style="height: fit-content; padding: 5px; font-size: 18px; font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;">
                    <div style="display: flex; align-items: center; justify-content: flex-start; text-align: center;">
                        <img src="{{url_for('static', filename='export.png')}}" height="40px" width="30px" style="margin-right: 10px;">Exportar Productos
                    </div>
                </button>
            </a>
        </div>
        <br>
        <fieldset class="group" style="display: block; width: fit-content;">
            <table class="tabla" border = "1px", style="background-color: aliceblue; border-radius: 10px;">
                <thead>
                    <tr>
                        <td colspan="8" style="padding: 5px; border-radius: 10px;">
                            <a href="{{url_for('appProducto.Agregar')}}" align = "center">
                                <button style="display: block; width:100%; height: 40px; border-radius: 10px;">Agregar Producto</button>
                            </a>
                        </td>
                    </tr>
                    <tr style="background-color:forestgreen; color: white;">
                        <th style="border-radius: 5px;">ID</th>
                        <th style="border-radius: 5px;">Nombre</th>
                        <th style="border-radius: 5px;">Descripcion</th>
                        <th style="border-radius: 5px;">Precio/Kg</th>
                        <th style="border-radius: 5px;">Peso/Kg</th>
                        <th style="border-radius: 5px;">Marca</th>
                        <th style="border-radius: 5px;"></th>
                        <th style="border-radius: 5px;"></th>
                    </tr>
                </thead>
                <tbody>
                    {% for prod in productos %}
                    <tr>
                        <td style="border-radius: 5px;">{{prod.id}}</td>
                        <td style="border-radius: 5px;">{{prod.nombre}}</td>
                        <td style="border-radius: 5px;">{{prod.descripcion}}</td>
                        <td style="border-radius: 5px;">{{prod.precio_kg}}</td>
                        <td style="border-radius: 5px;">{{prod.peso_kg}}</td>
                        <td style="border-radius: 5px;">{{prod.marca}}</td>
                        <td style="border-radius: 5px;"><a href="producto/edit/{{prod.id}}"><button style="border-radius: 5px;">Editar</button></a></td>
                        <td style="border-radius: 5px;"><a href="producto/delete/{{prod.id}}"><button style="border-radius: 5px;">Eliminar</button></a></td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </fieldset>
    </div>
{% endblock %}